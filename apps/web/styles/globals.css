@tailwind base;
@tailwind components;
@tailwind utilities;

@import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=DM+Sans:wght@400;500;600&display=swap');

/* ========================================
   HARBOR MULTI-ACCENT SYSTEM
   ======================================== */

:root {
  --pageAccent: #2979FF;
  --pageAccent-rgb: 41, 121, 255;
}

[data-page="overview"] {
  --pageAccent: #2979FF;
  --pageAccent-rgb: 41, 121, 255;
}

[data-page="shopping"] {
  --pageAccent: #00C6B7;
  --pageAccent-rgb: 0, 198, 183;
}

[data-page="brand"] {
  --pageAccent: #4EE4FF;
  --pageAccent-rgb: 78, 228, 255;
}

[data-page="conversations"] {
  --pageAccent: #5A5AFF;
  --pageAccent-rgb: 90, 90, 255;
}

[data-page="website"] {
  --pageAccent: #2EE6D6;
  --pageAccent-rgb: 46, 230, 214;
}

@layer base {
  body {
    @apply bg-navy text-softgray font-body;
    font-feature-settings: normal;
    line-height: 1.6;
  }

  h1, h2, h3, h4, h5, h6 {
    @apply font-heading text-white;
    letter-spacing: -0.02em;
  }
}

@layer components {
  /* Card styles */
  .harbor-card {
    @apply bg-navy-light rounded-card-lg p-6 shadow-card;
    border: 1px solid rgba(255, 255, 255, 0.06);
    transition: all 200ms ease;
  }

  .harbor-card:hover {
    box-shadow: inset 0 0 20px rgba(0, 198, 183, 0.15);
  }

  /* Button styles */
  .btn-primary {
    @apply bg-teal text-white px-4 py-2 rounded-lg font-body font-medium;
    @apply transition-all duration-200 hover:brightness-110 cursor-pointer;
  }

  .btn-primary:focus {
    @apply outline-none ring-1 ring-teal;
    box-shadow: 0 0 0 3px rgba(0, 198, 183, 0.2);
  }

  .btn-secondary {
    @apply bg-transparent text-white px-4 py-2 rounded-lg font-body font-medium;
    @apply border border-white transition-all duration-200 hover:bg-white hover:bg-opacity-5 cursor-pointer;
  }

  .btn-primary:disabled,
  .btn-secondary:disabled {
    @apply opacity-30 cursor-not-allowed;
  }

  /* Input styles */
  .harbor-input {
    @apply bg-navy-light text-white placeholder-softgray placeholder-opacity-60;
    @apply rounded-lg px-4 py-2 border border-white border-opacity-10;
    @apply focus:outline-none focus:ring-1 focus:ring-teal;
  }

  /* Table styles */
  .harbor-table {
    @apply w-full;
  }

  .harbor-table thead {
    @apply text-left text-sm text-softgray text-opacity-75;
  }

  .harbor-table tbody tr {
    @apply h-[52px] transition-colors;
  }

  .harbor-table tbody tr:hover {
    background-color: rgba(0, 198, 183, 0.08);
  }

  .harbor-table tbody tr:nth-child(even) {
    @apply bg-white bg-opacity-[0.02];
  }

  /* ========================================
     MULTI-ACCENT SYSTEM COMPONENTS
     ======================================== */

  /* Ambient gradient background */
  .page-container {
    background: radial-gradient(
      circle at 50% 10%,
      rgba(var(--pageAccent-rgb), 0.05) 0%,
      rgba(11, 21, 33, 1) 100%
    );
    transition: background 200ms ease-in-out;
    min-height: 100vh;
  }

  /* Page header with accent line */
  .page-header {
    border-top: 2px solid var(--pageAccent);
    box-shadow: 0 0 12px rgba(var(--pageAccent-rgb), 0.15);
    transition: all 200ms ease-in-out;
  }

  /* Sidebar navigation */
  .nav-item {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.625rem 0.75rem;
    border-radius: 0.5rem;
    transition: all 150ms ease-in-out;
    cursor: pointer;
    position: relative;
    color: rgba(244, 246, 248, 0.7);
  }

  .nav-item:hover {
    background: rgba(var(--pageAccent-rgb), 0.08);
    color: rgba(244, 246, 248, 0.95);
  }

  .nav-item.active {
    color: var(--pageAccent);
    border-left: 2px solid var(--pageAccent);
    background: rgba(var(--pageAccent-rgb), 0.05);
    padding-left: 0.625rem;
  }

  .nav-item.active .nav-icon {
    filter: drop-shadow(0 0 6px rgba(var(--pageAccent-rgb), 0.4));
    transition: all 300ms ease;
  }

  .nav-icon {
    width: 1.25rem;
    height: 1.25rem;
    transition: filter 300ms ease;
  }

  .sidebar-container {
    border-right: 1px solid rgba(var(--pageAccent-rgb), 0.15);
    transition: border-color 200ms ease-in-out;
  }

  /* Delta metrics */
  .delta-positive {
    color: var(--pageAccent);
    font-weight: 500;
    transition: color 200ms ease-in-out;
  }

  .delta-negative {
    color: #FF4E70;
    font-weight: 500;
  }

  .delta-neutral {
    color: rgba(244, 246, 248, 0.6);
    font-weight: 500;
  }

  /* Sentiment colors (Brand module) */
  .sentiment-pos {
    background: rgba(0, 198, 183, 0.15);
    color: #00C6B7;
    border: 1px solid rgba(0, 198, 183, 0.3);
  }

  .sentiment-neu {
    background: rgba(78, 228, 255, 0.15);
    color: #4EE4FF;
    border: 1px solid rgba(78, 228, 255, 0.3);
  }

  .sentiment-neg {
    background: rgba(255, 78, 112, 0.15);
    color: #FF4E70;
    border: 1px solid rgba(255, 78, 112, 0.3);
  }

  /* Depth levels */
  .card-L2 {
    background: #101C2C;
    box-shadow: 0 0 4px rgba(0, 0, 0, 0.4);
    border-radius: 0.75rem;
    transition: all 200ms ease-in-out;
  }

  .card-L3,
  .card-L2:hover {
    background: #141E38;
    box-shadow: inset 0 0 20px rgba(var(--pageAccent-rgb), 0.1);
  }

  .card-L4,
  .card-active {
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(var(--pageAccent-rgb), 0.15);
  }

  /* Progress bars */
  .progress-bar {
    background: rgba(var(--pageAccent-rgb), 0.2);
    border-radius: 9999px;
    overflow: hidden;
    height: 8px;
  }

  .progress-bar-fill {
    background: var(--pageAccent);
    height: 100%;
    transition: width 400ms ease-out;
    box-shadow: 0 0 8px rgba(var(--pageAccent-rgb), 0.4);
  }

  /* Accent utilities */
  .text-accent {
    color: var(--pageAccent);
  }

  .bg-accent {
    background: var(--pageAccent);
  }

  .border-accent {
    border-color: var(--pageAccent);
  }
}

@layer utilities {
  /* Animation utilities */
  .animate-pulse-slow {
    animation: pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }

  .animate-in {
    animation: fadeIn 350ms ease-out;
  }

  .fade-in {
    animation: fadeIn 350ms ease-out;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(2px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes sonarPulse {
    0% {
      transform: scale(1);
      opacity: 1;
    }
    100% {
      transform: scale(2);
      opacity: 0;
    }
  }

  .animate-sonar {
    animation: sonarPulse 5s ease-out infinite;
  }

  .transition-harbor {
    transition: all 150ms ease;
  }

  /* Border utilities */
  .border-harbor {
    border-color: rgba(255, 255, 255, 0.06);
  }

  /* Text truncation */
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* ========================================
     MULTI-ACCENT ANIMATIONS
     ======================================== */

  .card-fade-in {
    animation: fadeInUp 350ms ease-out forwards;
    opacity: 0;
  }

  .stagger-children > * {
    animation: fadeInUp 350ms ease-out forwards;
    opacity: 0;
  }

  .stagger-children > *:nth-child(1) { animation-delay: 0ms; }
  .stagger-children > *:nth-child(2) { animation-delay: 100ms; }
  .stagger-children > *:nth-child(3) { animation-delay: 200ms; }
  .stagger-children > *:nth-child(4) { animation-delay: 300ms; }
  .stagger-children > *:nth-child(5) { animation-delay: 400ms; }
  .stagger-children > *:nth-child(6) { animation-delay: 500ms; }
  .stagger-children > *:nth-child(7) { animation-delay: 600ms; }
  .stagger-children > *:nth-child(8) { animation-delay: 700ms; }

  @keyframes pulse-accent {
    0%, 100% {
      opacity: 1;
      box-shadow: 0 0 0 0 rgba(var(--pageAccent-rgb), 0.7);
    }
    50% {
      opacity: 0.6;
      box-shadow: 0 0 0 4px rgba(var(--pageAccent-rgb), 0);
    }
  }
}